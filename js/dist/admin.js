(()=>{var t={n:e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return t.d(r,{a:r}),r},d:(e,r)=>{for(var n in r)t.o(r,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)};(()=>{"use strict";const e=flarum.core.compat["admin/app"];var r=t.n(e);const n=flarum.core.compat["common/app"];var o=t.n(n);const a=flarum.core.compat["extensions/afrux-forum-widgets-core/common/extend/Widgets"];var i=t.n(a);function c(t,e){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},c(t,e)}const s=flarum.core.compat["extensions/afrux-forum-widgets-core/common/components/Widget"];var u=t.n(s),l="liplum-trends-widget";const d=flarum.core.compat["common/components/LoadingIndicator"];var f=t.n(d);const p=flarum.core.compat["common/utils/ItemList"];var h=t.n(p);const g=flarum.core.compat["common/components/Link"];var v=t.n(g),y=function(t){function e(){for(var e,r=arguments.length,n=new Array(r),o=0;o<r;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))||this).loading=!0,e.trends=[],e}var r,n;n=t,(r=e).prototype=Object.create(n.prototype),r.prototype.constructor=r,c(r,n);var a=e.prototype;return a.className=function(){return"liplum-trends-widget"},a.icon=function(){return"fas fa-fire-alt"},a.title=function(){return o().translator.trans(l+".forum.widget.title")},a.content=function(){if(this.loading)return m(f(),null);if(!this.trends||0===this.trends.length)return o().translator.trans(l+".forum.widget.empty");var t=new(h());return this.trends.forEach((function(e){t.add(e.id,m("div",{className:"liplum-trends-item"},m(v(),{href:e.attributes.shareUrl},e.attributes.title),m("div",{className:"liplum-trends-meta"},o().translator.trans(l+".forum.widget.comments",{count:e.attributes.commentCount}))))})),m("div",{className:"liplum-trends-list"},t.toArray())},a.oncreate=function(e){t.prototype.oncreate.call(this,e),this.fetchTrends()},a.fetchTrends=function(){var t=this;this.loading=!0,o().request({method:"GET",url:o().forum.attribute("apiUrl")+"/trends/recent"}).then((function(e){t.trends=e.data,t.loading=!1,m.redraw()})).catch((function(e){console.error("Error fetching trends:",e),t.loading=!1,m.redraw()}))},e}(u());r().initializers.add(l,(function(){var t;t=o(),(new(i())).add({key:"liplum-trends-widget",component:y,isDisabled:!1,isUnique:!0,placement:"end",position:2}).extend(t,l),r().extensionData.for(l)}))})(),module.exports={}})();
//# sourceMappingURL=admin.js.map